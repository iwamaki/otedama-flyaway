# ワールド1: チュートリアル

## 概要
```
目的: お手玉の基本操作を習得する
構成: 3ステージ
難易度: 緩〜急（超急は1-2終盤から）

学習目標:
├─ 1-1: 単発ジャンプと方向制御
├─ 1-2: 二段発射（空中スワイプ）
└─ 1-3: 横距離ジャンプ

地形素材: wood（木）
```

## 吹き抜け構造
```
ワールド1は縦につながった「吹き抜けの塔」:
├─ 各ステージに床はない（最下層の1-1のみ）
├─ 落下したら遷移ゾーンを通過して下のステージへ
├─ 最悪の場合、1-1の床まで落ちる
└─ 遷移ゾーンは壁から壁まで（横幅いっぱい）

    ┌─────────────────────────────────────────────┐
    │              ステージ1-3                     │
    │         足場...                             │
    │=============================================│ zone（壁から壁）
    ─────────────────────────────────────────────────
    │=============================================│ zone（壁から壁）
    │              ステージ1-2                     │
    │         足場...                             │
    │=============================================│ zone（壁から壁）
    ─────────────────────────────────────────────────
    │=============================================│ zone（壁から壁）
    │              ステージ1-1                     │
    │         足場...                             │
    │=============================================│ 床（唯一の安全ネット）
    └─────────────────────────────────────────────┘

スリル:
├─ 1-3で失敗 → 遷移ゾーン通過 → 1-2に落下
├─ 1-2で失敗 → 遷移ゾーン通過 → 1-1に落下
└─ 1-1で失敗 → 床でキャッチ（最下層）
```

## ★遷移前後の足場配置
```
遷移時に相対座標（x位置）が保持されるため、
遷移前後の足場は物理的につながっていると考えて設計する。

【ワールド1の遷移設計】
├─ 1-1 最上部: x=0（中央）→ 右斜めジャンプで遷移
├─ 1-2 スポーン: x=15（右寄り）右壁接続
├─ 1-2 最上部: x=0（中央）→ 左斜めジャンプで遷移
└─ 1-3 スポーン: x=-15（左寄り）左壁接続

【ステージ間の連続性】
    1-3: スポーン x=-15 (左寄り・左壁接続)
            ↖
    ════════════════════════════════  zone_1_2_top / zone_1_3_bottom
    1-2: 最上部 x=0 (中央)
            ...
    1-2: スポーン x=15 (右寄り・右壁接続)
            ↗
    ════════════════════════════════  zone_1_1_top / zone_1_2_bottom
    1-1: 最上部 x=0 (中央)
```

## 記号凡例
```
T  : Terrain（広い・安心）- 休憩ポイント、スポーン地点
P  : Platform（細い・緊張）- スキル要求、挑戦ポイント

壁接続パターン:
├─ |####============[足場]           : 左壁に接続
├─ |####|       [足場]========|####| : 右壁に接続
├─ |####|======[足場]=========|####| : 両壁に接続
└─ |####|       [足場]        |####| : 浮き（接続なし）

terrainType: wood（ステージ1共通）
プレイエリア: 80マス幅（-40〜+40）
壁: 各10マス厚（-50〜-40, +40〜+50）
```

---

## ステージ1-1「目覚め」

### コンセプト
```
目的: 単発ジャンプの力加減と方向制御を学ぶ
制約: 二段発射なしでクリア可能（最大12m）
特徴:
├─ ジグザグ上昇で方向制御を練習
├─ 終盤に分岐選択（P7 or P8）
├─ スポーン地点は広くて安心
└─ 最上部から右斜めジャンプで1-2へ遷移
```

### ASCII設計図
```
     x: -50  -40      -20        0       +20      +40  +50
        |####|                                   |####|
   -24  |####|============[遷移ゾーン]=============|####|
        |####|                    ↗              |####|  右斜めジャンプで遷移！
   -18  |####|            [==最上部==]           |####|  T(10×4) x=0 中央
        |####|                 ↑                 |####|
        |####|                 |10m              |####|
        |####|                                   |####|
    -8  |####|        [P7]          [P8]         |####|  P(5×1)×2 並列！
        |####|          ↖        ↗              |####|  どちらからでもOK
        |####|           ＼    ／                |####|
        |####|            ＼／  |8m              |####|
        |####|                                   |####|
     0  |####|            [==T5==]               |####|  T(10×4) 中央・休憩
        |####|                ↑                  |####|
        |####|                |12m 急            |####|
        |####|                                   |####|
    12  |####============[P4====]                |####|  P(8×1) 左壁接続
        |####|               ↗                   |####|
        |####|         斜め8m                    |####|
        |####|                                   |####|
    20  |####|                      [P3]         |####|  P(5×1) 浮き・右寄り
        |####|                       ↑           |####|
        |####|                       |6m         |####|
        |####|                                   |####|
    26  |####|                  [P2]             |####|  P(5×1) 浮き・やや右
        |####|                    ↑              |####|
        |####|                    |8m            |####|
        |####|                                   |####|
    34  |####|  [P1]                             |####|  P(5×1) 浮き・左寄り
        |####|    ↑                              |####|
        |####|    |10m                           |####|
        |####|                                   |####|
    44  |####|            [=====T0/スポーン=====]===####|  T(20×4) 右壁接続
        |####|           S                       |####|
        |####|                                   |####|
    60  |####|=================床=================|####|  T 床（壁から壁）
        └────┴───────────────────────────────────┴────┘
```

### 難易度シーケンス
```
[最上部]   T  x=0 中央   ─┐
    ↑10m               │ 最終ジャンプ
[P7][P8]   P  並列      ─┤ ← 分岐選択！
    ↑8m                │
[T5]       T  中央      ─┤ 休憩ポイント
    ↑12m 急            │
[P4]       P  左壁接続  ─┤ 斜めジャンプ
    ↑8m 斜め           │
[P3]       P  右寄り    ─┤
    ↑6m                │ ジグザグ上昇
[P2]       P  中央右    ─┤
    ↑8m                │
[P1]       P  左寄り    ─┤
    ↑10m               │
[T0]       T  右壁接続  ─┴─ スポーン

動きの流れ:
T0(広い) → P1(左) → P2(中央へ) → P3(右へ) → P4(左壁へ斜め)
        → T5(休憩) → P7/P8(分岐) → 最上部 → 右斜めで1-2へ
```

### オブジェクト仕様
```
┌────┬──────────────────┬─────┬─────┬─────────┬────────────┐
│ No │ タイプ           │  x  │  y  │ サイズ  │ 備考       │
├────┼──────────────────┼─────┼─────┼─────────┼────────────┤
│  1 │ 左壁(rock)       │ -45 │  20 │ 10×100 │ -          │
│  2 │ 右壁(rock)       │ +45 │  20 │ 10×100 │ -          │
│  3 │ 床(wood)         │   0 │  60 │ 80×4   │ 壁から壁   │
├────┼──────────────────┼─────┼─────┼─────────┼────────────┤
│  4 │ T0(wood)         │  10 │  44 │ 50×4   │ 右壁接続   │
│  5 │ P1(wood)         │ -25 │  34 │  5×1   │ 左寄り     │
│  6 │ P2(wood)         │   5 │  26 │  5×1   │ やや右     │
│  7 │ P3(wood)         │  20 │  20 │  5×1   │ 右寄り     │
│  8 │ P4(wood)         │ -20 │  12 │ 20×1   │ 左壁接続   │
│  9 │ T5(wood)         │   0 │   0 │ 10×4   │ 中央       │
│ 10 │ P7(wood)         │ -12 │  -8 │  5×1   │ 左側       │
│ 11 │ P8(wood)         │ +12 │  -8 │  5×1   │ 右側       │
│ 12 │ 最上部(wood)     │   0 │ -18 │ 10×4   │ x=0 中央   │
├────┼──────────────────┼─────┼─────┼─────────┼────────────┤
│ 13 │ zone_1_1_top     │   0 │ -24 │ 80×5   │ 壁から壁   │
└────┴──────────────────┴─────┴─────┴─────────┴────────────┘

スポーン: x=10, y=42
最上部: x=0 → 右斜めジャンプで遷移（1-2スポーンはx=15）
```

### 遷移ゾーン設定
```json
{
  "type": "transitionZone",
  "x": 0,
  "y": -24,
  "width": 80,
  "height": 5,
  "nextStage": "assets/stages/stage1-2.json",
  "id": "zone_1_1_top",
  "targetZoneId": "zone_1_2_bottom"
}
```

---

## ステージ1-2「飛翔」

### コンセプト
```
目的: 二段発射（空中スワイプ）を習得する
新要素: 15m以上のジャンプ（二段必須）
前提: 1-1で単発ジャンプをマスター済み
特徴:
├─ 序盤は単発で復習
├─ 中盤で急ジャンプの緊張感
├─ 終盤で二段発射を学ぶ
├─ スポーンはx=15（右寄り）← 1-1から右斜めで来る
└─ 最上部から左斜めジャンプで1-3へ遷移
```

### ASCII設計図
```
     x: -50  -40      -20        0       +20      +40  +50
        |####|                                   |####|
   -28  |####|============[遷移ゾーン]=============|####|
        |####|          ↖                        |####|  左斜めジャンプで遷移！
   -22  |####|            [==最上部==]           |####|  T(10×4) x=0 中央
        |####|                 ↑                 |####|
        |####|                 |16m 二段         |####|
        |####|                                   |####|
    -6  |####============[====T6====]            |####|  T(12×4) 左壁接続・休憩
        |####|               ↖                   |####|
        |####|          斜め15m 二段★           |####|
        |####|                                   |####|
     9  |####|                    [====P5====]===####|  P(10×1) 右壁接続
        |####|                         ↑         |####|
        |####|                         |12m 急   |####|
        |####|                                   |####|
    21  |####|            [==T4==]               |####|  T(10×4) 中央・休憩
        |####|              ↗                    |####|
        |####|         斜め10m                   |####|
        |####|                                   |####|
    31  |####|    [P3]                           |####|  P(5×1) 浮き・左寄り
        |####|      ↑                            |####|
        |####|      |8m                          |####|
        |####|                                   |####|
    39  |####|               [P2]                |####|  P(5×1) 浮き・中央
        |####|                 ↑                 |####|
        |####|                 |10m              |####|
        |####|                                   |####|
    49  |####|                 [=====T1/スポーン=====]===####|  T(25×4) x=15 右壁接続
        |####|                       S           |####|
        |####|                                   |####|
    60  |####|============[遷移ゾーン]=============|####|  ← 1-1から/1-1へ
        └────┴───────────────────────────────────┴────┘
                    ↓ 床なし、落下で1-1へ
```

### 難易度シーケンス
```
[最上部]   T  x=0 中央   ─┐
    ↑16m 二段          │ 最終確認
[T6]       T  左壁接続  ─┤ 休憩ポイント
    ↑15m 二段★        │ ← 二段発射を学ぶ！
[P5]       P  右壁接続  ─┤
    ↑12m 急            │ 緊張感
[T4]       T  中央      ─┤ 休憩ポイント
    ↑10m 斜め          │
[P3]       P  左寄り    ─┤
    ↑8m                │ 復習ゾーン
[P2]       P  中央      ─┤
    ↑10m               │
[T1]       T  x=15 右壁  ─┴─ スポーン（1-1から右斜めで着地）

動きの流れ:
T1(x=15) → P2(中央へ) → P3(左へ) → T4(右斜め/休憩)
        → P5(真上/急) → T6(左斜め/二段★) → 最上部(x=0) → 左斜めで1-3へ
```

### オブジェクト仕様
```
┌────┬──────────────────┬─────┬─────┬─────────┬────────────┐
│ No │ タイプ           │  x  │  y  │ サイズ  │ 備考       │
├────┼──────────────────┼─────┼─────┼─────────┼────────────┤
│  1 │ 左壁(rock)       │ -45 │  15 │ 10×100 │ -          │
│  2 │ 右壁(rock)       │ +45 │  15 │ 10×100 │ -          │
├────┼──────────────────┼─────┼─────┼─────────┼────────────┤
│  3 │ T1(wood)         │  15 │  49 │ 50×4   │ x=15 右壁接続│
│  4 │ P2(wood)         │   0 │  39 │  5×1   │ 中央       │
│  5 │ P3(wood)         │ -20 │  31 │  5×1   │ 左寄り     │
│  6 │ T4(wood)         │   0 │  21 │ 10×4   │ 中央       │
│  7 │ P5(wood)         │  20 │   9 │ 20×1   │ 右壁接続   │
│  8 │ T6(wood)         │ -20 │  -6 │ 32×4   │ 左壁接続   │
│  9 │ 最上部(wood)     │   0 │ -22 │ 10×4   │ x=0 中央   │
├────┼──────────────────┼─────┼─────┼─────────┼────────────┤
│ 10 │ zone_1_2_bottom  │   0 │  60 │ 80×5   │ 壁から壁   │
│ 11 │ zone_1_2_top     │   0 │ -28 │ 80×5   │ 壁から壁   │
└────┴──────────────────┴─────┴─────┴─────────┴────────────┘

スポーン: x=15, y=47（右寄り、1-1最上部から右斜めジャンプで着地）
最上部: x=0 → 左斜めジャンプで遷移（1-3スポーンはx=-15）
```

### 遷移ゾーン設定
```json
// 下部（1-1への戻り口）
{
  "type": "transitionZone",
  "x": 0,
  "y": 60,
  "width": 80,
  "height": 5,
  "nextStage": "assets/stages/stage1-1.json",
  "id": "zone_1_2_bottom",
  "targetZoneId": "zone_1_1_top"
}

// 上部（1-3への出口）
{
  "type": "transitionZone",
  "x": 0,
  "y": -28,
  "width": 80,
  "height": 5,
  "nextStage": "assets/stages/stage1-3.json",
  "id": "zone_1_2_top",
  "targetZoneId": "zone_1_3_bottom"
}
```

---

## ステージ1-3「跳躍」

### コンセプト
```
目的: 横方向への距離ジャンプを習得
新要素: 横に飛ぶ（単発〜二段発射）
前提: 二段発射をマスター済み
特徴:
├─ 序盤は縦移動で復習
├─ 中盤で横ジャンプを導入
├─ 終盤は斜め移動の応用
├─ スポーンはx=-15（左寄り）← 1-2から左斜めで来る
└─ 最上部からワールド2へ遷移
```

### ASCII設計図
```
     x: -50  -40      -20        0       +20      +40  +50
        |####|                                   |####|
   -18  |####|============[遷移ゾーン]=============|####|
        |####|                                   |####|
   -12  |####============[==最上部==]            |####|  T(10×4) 左壁接続
        |####|               ↖                   |####|
        |####|          横10m+高10m              |####|
        |####|                                   |####|
     0  |####|                    [P6]           |####|  P(6×1) 浮き・右寄り
        |####|                     ↑             |####|
        |####|                     |10m          |####|
        |####|                                   |####|
    10  |####|        [P5]                       |####|  P(6×1) 浮き・左寄り
        |####|          ↖                        |####|
        |####|      横8m+高8m                    |####|
        |####|                                   |####|
    18  |####|                      [====T4====]=####|  T(12×4) 右壁接続・休憩
        |####|                          ↗        |####|
        |####|                    横10m ★導入   |####|
        |####|                                   |####|
    28  |####|        [P3]                       |####|  P(6×1) 浮き・左寄り
        |####|          ↑                        |####|
        |####|          |10m                     |####|
        |####|                                   |####|
    38  |####|                 [P2]              |####|  P(6×1) 浮き・中央右
        |####|                   ↑               |####|
        |####|                   |10m            |####|
        |####|                                   |####|
    48  |####====[=====T1/スポーン=====]         |####|  T(25×4) x=-15 左壁接続
        |####|       S                           |####|
        |####|                                   |####|
    58  |####|============[遷移ゾーン]=============|####|  ← 1-2から/1-2へ
        └────┴───────────────────────────────────┴────┘
                    ↓ 床なし、落下で1-2へ
```

### 難易度シーケンス
```
[最上部]   T  左壁接続  ─┐
    ↑横10m+高10m       │ 斜めジャンプ
[P6]       P  右寄り    ─┤
    ↑10m               │
[P5]       P  左寄り    ─┤ 斜め移動
    ↑横8m+高8m         │
[T4]       T  右壁接続  ─┤ 休憩ポイント
    ↑横10m ★          │ ← 横ジャンプを学ぶ！
[P3]       P  左寄り    ─┤
    ↑10m               │ 復習ゾーン
[P2]       P  中央右    ─┤
    ↑10m               │
[T1]       T  x=-15 左壁 ─┴─ スポーン（1-2から左斜めで着地）

動きの流れ:
T1(x=-15) → P2(右へ) → P3(左へ) → T4(右へ横跳び★/休憩)
        → P5(左斜め) → P6(右へ) → 最上部(左斜め)
```

### オブジェクト仕様
```
┌────┬──────────────────┬─────┬─────┬─────────┬────────────┐
│ No │ タイプ           │  x  │  y  │ サイズ  │ 備考       │
├────┼──────────────────┼─────┼─────┼─────────┼────────────┤
│  1 │ 左壁(rock)       │ -45 │  20 │ 10×90  │ -          │
│  2 │ 右壁(rock)       │ +45 │  20 │ 10×90  │ -          │
├────┼──────────────────┼─────┼─────┼─────────┼────────────┤
│  3 │ T1(wood)         │ -15 │  48 │ 50×4   │ x=-15 左壁接続│
│  4 │ P2(wood)         │  10 │  38 │  6×1   │ 中央右     │
│  5 │ P3(wood)         │ -15 │  28 │  6×1   │ 左寄り     │
│  6 │ T4(wood)         │  20 │  18 │ 40×4   │ 右壁接続   │
│  7 │ P5(wood)         │ -15 │  10 │  6×1   │ 左寄り     │
│  8 │ P6(wood)         │  18 │   0 │  6×1   │ 右寄り     │
│  9 │ 最上部(wood)     │ -20 │ -12 │ 30×4   │ 左壁接続   │
├────┼──────────────────┼─────┼─────┼─────────┼────────────┤
│ 10 │ zone_1_3_bottom  │   0 │  58 │ 80×5   │ 壁から壁   │
│ 11 │ zone_1_3_top     │   0 │ -18 │ 80×5   │ 壁から壁   │
└────┴──────────────────┴─────┴─────┴─────────┴────────────┘

スポーン: x=-15, y=46（左寄り、1-2最上部から左斜めジャンプで着地）
```

### 遷移ゾーン設定
```json
// 下部（1-2への戻り口）
{
  "type": "transitionZone",
  "x": 0,
  "y": 58,
  "width": 80,
  "height": 5,
  "nextStage": "assets/stages/stage1-2.json",
  "id": "zone_1_3_bottom",
  "targetZoneId": "zone_1_2_top"
}

// 上部（ワールド2への出口）
{
  "type": "transitionZone",
  "x": 0,
  "y": -18,
  "width": 80,
  "height": 5,
  "nextStage": "assets/stages/stage2-1.json",
  "id": "zone_1_3_top",
  "targetZoneId": "zone_2_1_bottom"
}
```

---

## ワールド1 遷移ゾーン一覧

```
┌──────────────────────┬─────────────────────┬────────────────────┐
│ ID                   │ 場所                │ 遷移先             │
├──────────────────────┼─────────────────────┼────────────────────┤
│ zone_1_1_top         │ 1-1 上端（y=-24）   │ 1-2 (bottom)       │
│ zone_1_2_bottom      │ 1-2 下端（y=60）    │ 1-1 (top)          │
│ zone_1_2_top         │ 1-2 上端（y=-28）   │ 1-3 (bottom)       │
│ zone_1_3_bottom      │ 1-3 下端（y=58）    │ 1-2 (top)          │
│ zone_1_3_top         │ 1-3 上端（y=-18）   │ 2-1 (bottom)       │
└──────────────────────┴─────────────────────┴────────────────────┘

すべて壁から壁まで（幅80マス）

★遷移前後の足場配置:
├─ 1-1 最上部 x=0   → 右斜めジャンプ → 1-2 スポーン x=15
├─ 1-2 最上部 x=0   → 左斜めジャンプ → 1-3 スポーン x=-15
└─ 左右交互にずらしてリズムを出す

落下時の流れ: 1-3 → zone → 1-2 → zone → 1-1 → 床
上昇時の流れ: 1-1 → zone → 1-2 → zone → 1-3 → zone → 2-1
```

---

## ワールド1 まとめ

### 学習進行
```
1-1 「目覚め」
├─ 単発ジャンプの力加減
├─ 方向制御（ジグザグ上昇）
├─ 分岐選択の導入
└─ 遷移: 右斜めジャンプで1-2へ
     ↓
1-2 「飛翔」
├─ 単発の復習
├─ 急ジャンプで緊張感
├─ 二段発射（空中スワイプ）の習得
└─ 遷移: 左斜めジャンプで1-3へ
     ↓
1-3 「跳躍」
├─ 縦移動の復習
├─ 横ジャンプの導入
├─ 斜め移動の応用
└─ 遷移: ワールド2へ
     ↓
ワールド2へ（すべての技術を使いこなす）
```

### 足場パターン
```
T（Terrain）: 広い・安心
├─ スポーン地点（片壁接続）
├─ 休憩ポイント（中央浮き or 片壁接続）
└─ 最上部（遷移方向を考慮）

P（Platform）: 細い・緊張
├─ 挑戦ポイント（浮きが多い）
├─ 壁接続は救済用（端に落ちてもキャッチ）
└─ 連続配置で緊張感を演出
```

### 壁接続の意図
```
両壁接続:
└─ 床のみ（最下層の安全ネット）

片壁接続の足場:
├─ 端に落ちたプレイヤーを救済
├─ スポーン: 遷移方向に合わせて左右を選択
│   └─ 1-2スポーンは右壁接続（1-1から右斜めで来る）
│   └─ 1-3スポーンは左壁接続（1-2から左斜めで来る）
└─ 配置: 左右交互でバランスを取る

浮き足場:
├─ 緊張感を演出
├─ 精度の高いジャンプを要求
└─ 落ちても下の片壁接続足場 or 床でキャッチ
```

### 遷移前後の配置（重要）
```
遷移時に相対座標（x位置）が保持されるため、
最上部足場とスポーン足場は物理的につながっていると考えて配置。

1-1 最上部 x=0   ─→ 右斜めジャンプ ─→ 1-2 スポーン x=15
1-2 最上部 x=0   ─→ 左斜めジャンプ ─→ 1-3 スポーン x=-15

ポイント:
├─ 同じx座標だと頭をぶつけて乗れない
├─ 10〜15マスずらして斜めジャンプで乗れるように
└─ 左右交互にずらしてリズムを出す
```
